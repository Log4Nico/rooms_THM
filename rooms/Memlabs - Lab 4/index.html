<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>MemLabs - 4 - Writeup Log4Nico</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  <div class="container">
        <h1>MemLabs - 4 - Write-Up</h1>
        <p>En este write-up, me adentro en los retos de <a href="https://github.com/stuxnet999/MemLabs">MemLabs</a>, una serie de laboratorios diseñados para poner a prueba 
          nuestras habilidades en el análisis de volcados de memoria. Equipado con <b>Volatility</b>, una de las herramientas 
          más potentes para diseccionar sistemas vivos o caídos, iré desenterrando credenciales, procesos sospechosos, 
          conexiones de red y cualquier pista que hayan dejado atrás.</p>

        <p>Ya en el cuarto laboratorio, nos acercamos al final de estos desafíos. En este write-up analizo <a href="https://github.com/stuxnet999/MemLabs/tree/master/Lab%204">MemLabs Lab 4 - Obsession</a>,
           el último reto de dificultad media de la serie. ¡Vamos a descubrir qué secretos esconde!</p>

        <h2>Enunciado</h2>

        <p>Mi sistema fue comprometido recientemente. El hacker robó mucha información, pero además eliminó un archivo muy importante para mí. 
          No tengo ni idea de cómo recuperarlo. La única evidencia que tenemos en este momento es este volcado de memoria. Por favor, ayúdame.</p>
        
        <h2>¿Qué sacamos en claro?</h2>
        <ul>
          <li>Un hacker robó y borró información(Solo tenemos que recuperarlo).</li>
        </ul>

        <p>Además, este reto consta de 1 flag.</p>

        <h2>Análisis del perfil</h2>
        
        <p>Para sacar la memoria debemos usar el siguiente comando:</p>

        <code>vol.py -f MemoryDump_Lab4.raw imageinfo</code>

        <pre>Se me olvidó sacar la foto   _/( ·-·)\_</pre>

        <p>Como ya he dicho varias veces, podemos usar cualquira que nos salga.</p>
        
        <h2>Análisis de la memoria</h2>
        
        <h3>Buscar la información</h3>

        <p>Como no se que buscar exactamente, voy a examinar un poco de todo y mostraré lo interesante.</p>

        <img src="img/image.png" alt="usuarios">

        <p>Empecemos como no por listar los usuarios del sistema. Encontramos los usuarios <i>Eminen</i> y <i>SlimShady</i>.</p>

        <img src="img/image-1.png" alt="Escritorio Eminen">

        <p>En el escritorio de Eminen encontramos 2 imágenes.</p>

        <h4>El Joker</h4>

        <img src="img/image-2.png" alt="Joker">

        <h4>Busqueda de google</h4>

        <img src="img/image-3.png" alt="Google">

        <pre>Aunque no se ve con claridad</pre>

        <p>En el escritorio de SlimShady encontramos un archivo importante.</p>

        <img src="img/image-4.png" alt="Escritorio SlimShady">

        <p>Desgraciadamente, no se puede exportar. Usando <i>iehistory</i> también vemos mención a este archivo:</p>

        <img src="img/image-5.png" alt="iehistory">

        <p>Pero da igual lo que intente, no consigo extraerlo. Entiendo que, cuando dijeron que lo habían borrado, es porque no hay forma <i>posible</i> de recuperarlo.</p>

        <p>Mas tiene que estar en la memoria de alguna forma u otra. Así que usaré <i>mftparser</i>, el cual sirve para recuperar información sobre archivos, <b>incluidos los eliminados</b>,
           como nombres, rutas y fechas, lo que ayuda a rastrear archivos eliminados o actividad sospechosa.</p>

        <img src="img/image-6.png" alt="iehistory">

        <pre>Quitando todos los puntos, obtendremos la flag completa.</pre>

        <p>Ya hemos terminado con el último reto de dificultad media, solo nos quedan 2 retos difíciles para completar el laboratorio.</p>

        <p>En este reto hemos aprendido una funcionalidad de Volatility. Podemos ver las tablas maestras que, en resumen, sirven para ver todos los archivos que dejaron un rastro en la memoria RAM.
          A diferencia de <i>filescan</i>, estos archivos no se pueden extraer, pero si que se pueden ver los archivos que se han eliminado.</p>
        
        <a href="../Memlabs - Lab 3/index.html">Ir al laboratorio anterior</a> <br>
        <a href="../Memlabs - Lab 5/index.html">Ir al siguiente laboratorio</a>
    </div>
</body>
</html>
